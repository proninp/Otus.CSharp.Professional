# 22. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤

## –¶–µ–ª—å:

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤.

## –û–ø–∏—Å–∞–Ω–∏–µ/–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:

–ù–∞ –ø—Ä–∏–º–µ—Ä–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä—ã ¬´–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ¬ª –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤.
–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–Ω–¥–æ–º–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —É–≥–∞–¥–∞—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ.
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤–≤–æ–¥–µ —á–∏—Å–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–∏—à–µ—Ç –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ –æ—Ç–≥–∞–¥—ã–≤–∞–µ–º–æ–≥–æ. –ö–æ–ª-–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–≥–∞–¥—ã–≤–∞–Ω–∏—è –∏ –¥–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª –¥–æ–ª–∂–µ–Ω –∑–∞–¥–∞–≤–∞—Ç—å—Å—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
–í –æ—Ç—á—ë—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É.
–ü—Ä–∏–ª–æ–∂–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞–ø–∏—Å–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É—à–ª–æ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.


## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:

2 –±–∞–ª–ª–∞: –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏;
1 –±–∞–ª–ª–∞: –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π;
2 –±–∞–ª–ª–∞: –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞;
2 –±–∞–ª–ª–∞: –ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏;
2 –±–∞–ª–ª–∞: –ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤;
1 –±–∞–ª–ª: CodeStyle, –≥—Ä–∞–º–æ—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≤—Å—ë –∑–∞–º–µ—á–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –±–∞–ª–ª: 6.

## –†–µ—à–µ–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"

#### üìÅ –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
HomeWorks/22.HomeWork.05/
‚îú‚îÄ‚îÄ üìÑ HomeWork.05.sln              # Solution —Ñ–∞–π–ª Visual Studio
‚îú‚îÄ‚îÄ üìÑ global.json                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ .NET SDK –≤–µ—Ä—Å–∏–∏
‚îú‚îÄ‚îÄ üìÑ README.md                    # –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ üìÅ HomeWork.05/                 # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç
    ‚îú‚îÄ‚îÄ üìÑ HomeWork.05.csproj       # –§–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
    ‚îú‚îÄ‚îÄ üìÑ Program.cs               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ üìÅ Configuration/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îú‚îÄ‚îÄ üìÅ Core/                    # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –º–æ–¥–µ–ª–∏)
    ‚îú‚îÄ‚îÄ üìÅ Services/                # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
    ‚îú‚îÄ‚îÄ üìÅ Extensions/              # –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ‚îî‚îÄ‚îÄ üìÅ Settings/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

#### üìÇ Core/ - –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

##### üìÇ Core/Abstractions/ - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

**üìÅ Game/** - –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
- `IGameCalculator.cs` - –†–∞—Å—á–µ—Ç –∏–≥—Ä–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `IGameEngine.cs` - –î–≤–∏–∂–æ–∫ –∏–≥—Ä—ã
- `IGameMenu.cs` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `IGameResultEvaluator.cs` - –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `IRoundManager.cs` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞–º–∏

**üìÅ Players/** - –ò–≥—Ä–æ–∫–∏
- `INumberGuesser.cs` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–≥–∞–¥—ã–≤–∞—é—â–µ–≥–æ
- `INumberRiddler.cs` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥–∞–¥—ã–≤–∞—é—â–µ–≥–æ
- `IPlayer.cs` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–≥—Ä–æ–∫
- `IPlayerFactory.cs` - –§–∞–±—Ä–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
- `PlayerBase.cs` - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–≥—Ä–æ–∫–æ–≤

**üìÅ UI/** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `IPlayerInterface.cs` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏–≥—Ä–æ–∫–æ–º

**üìÅ Utils/** - –£—Ç–∏–ª–∏—Ç—ã
- `INumberGenerator.cs` - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª

##### üìÇ Core/Models/ - –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- `GameMode.cs` - –†–µ–∂–∏–º—ã –∏–≥—Ä—ã (enum)
- `GameRoundResult.cs` - –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
- `GuessOutcome.cs` - –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø—ã—Ç–∫–∏ (enum)
- `GuessResult.cs` - –û–±–µ—Ä—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è
- `NumberRange.cs` - Value object –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —á–∏—Å–µ–ª

#### üìÇ Services/ - –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

##### üìÅ Game/ - –ò–≥—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- `GameCalculator.cs` - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `GameEngine.cs` - –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫ –∏–≥—Ä—ã
- `GameMenu.cs` - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
- `GameResultEvaluator.cs` - –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–ø—ã—Ç–æ–∫
- `RoundManager.cs` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º–∏ —Ä–∞—É–Ω–¥–∞–º–∏

##### üìÅ Players/ - –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
- `ComputerPlayer.cs` - –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∏–≥—Ä–æ–∫ —Å –ò–ò
- `HumanPlayer.cs` - –ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –∏–≥—Ä–æ–∫
- `PlayerFactory.cs` - –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤

##### üìÅ UI/ - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `SpectreConsoleInterface.cs` - –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π UI –Ω–∞ Spectre.Console

##### üìÅ Utils/ - –£—Ç–∏–ª–∏—Ç—ã
- `NumberGenerator.cs` - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª

#### üìÇ Configuration, Extensions, Settings

- `üìÅ Configuration/appsettings.json` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `üìÅ Extensions/GameInstaller.cs` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `üìÅ Settings/GameSettings.cs` - –ö–ª–∞—Å—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–≥—Ä—ã

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã

![example01](res/p01.png)

![example02](res/p02.png)

![example03](res/p03.png)


## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID

### Single Responsibility Principle (SRP)
- `GameCalculator` - —Ç–æ–ª—å–∫–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- `RoundManager` - —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞–º–∏  
- `PlayerFactory` - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
- `GameResultEvaluator` - —Ç–æ–ª—å–∫–æ –æ—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Open/Closed Principle (OCP)
- –ù–æ–≤—ã–µ —Ç–∏–ø—ã –∏–≥—Ä–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `IPlayer`
- –ù–æ–≤—ã–µ UI —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `IPlayerInterface`
- –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —á–µ—Ä–µ–∑ `INumberGuesser`

### Liskov Substitution Principle (LSP)
- –í—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `IPlayer` –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã
- `ComputerPlayer` –∏ `HumanPlayer` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–º–µ–Ω—è—é—Ç –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã

### Interface Segregation Principle (ISP)
- `INumberGuesser` - —Ç–æ–ª—å–∫–æ —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ
- `INumberRiddler` - —Ç–æ–ª—å–∫–æ –∑–∞–≥–∞–¥—ã–≤–∞–Ω–∏–µ
- `IPlayer` - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### Dependency Inversion Principle (DIP)
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤
- –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏